const t=window.App.h;class e{constructor(){this.editable=!0,this.isParentOpen=!1,this.showInputError=!1,this.isInputFocused=!1}onColorChange(t){const e=t.currentTarget,s=e.value.trim();e.matches('[type="text"]')&&"#"!==s[0]?e.value="#"+s:e.matches('[type="text"]')&&s.length>7?e.value=s.substring(0,s.length-1):e.matches('[type="text"]')&&7!==s.length||(this.value=s,this.colorChange.emit({property:this.property,value:this.value}))}onInputFocus(){this.isInputFocused=!0}onInputBlur(t){this.value=t.currentTarget.value.trim(),this.isInputFocused=!1}isValidHex(t){return/^#[0-9A-F]{6}$/i.test(t)}validate(){const t=this.isValidHex(this.value);this.showInputError=!t||7!==this.value.length}render(){return this.validate(),[t("div",{class:{"color-selector":!0,"color-selector--error":this.showInputError}},t("div",{class:"color-selector__name"},t("i",{class:"color-selector__swatch",style:{backgroundColor:this.value}}),this.name),this.editable?t("div",{class:"color-selector__form-group"},t("div",{class:{"color-selector__input":!0,"color-selector__input--focused":this.isInputFocused},onClick:t=>{this.isParentOpen&&t.stopPropagation()}},t("div",{class:"color-selector__color-wrap",style:{backgroundColor:this.value}},t("input",{type:"color",value:this.value,onInput:this.onColorChange.bind(this),tabindex:"-1"})),t("input",{type:"text",value:this.value,onInput:this.onColorChange.bind(this),onFocus:this.onInputFocus.bind(this),onBlur:this.onInputBlur.bind(this)})),this.showInputError?t("span",{class:"color-selector__error"},"Please enter a valid six digit hex code."):""):t("div",{class:"color-selector__hex"},t("span",null,this.value)))]}static get is(){return"color-gen-variable-selector"}static get encapsulation(){return"shadow"}static get properties(){return{editable:{type:Boolean,attr:"editable"},isInputFocused:{state:!0},isParentOpen:{type:Boolean,attr:"is-parent-open"},name:{type:String,attr:"name"},property:{type:String,attr:"property"},showInputError:{state:!0},value:{type:String,attr:"value",mutable:!0}}}static get events(){return[{name:"colorChange",method:"colorChange",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return".color-selector.sc-color-gen-variable-selector{-ms-flex-pack:justify;justify-content:space-between;padding:12px;padding-right:34px}.color-selector.sc-color-gen-variable-selector, .color-selector__name.sc-color-gen-variable-selector{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.color-selector__name.sc-color-gen-variable-selector{color:var(--dark);font-size:14px;font-weight:500}.color-selector__swatch.sc-color-gen-variable-selector{display:block;width:24px;height:24px;border-radius:24px;margin-right:16px;border:1px solid rgba(0,0,0,.1)}.invalid.sc-color-gen-variable-selector{background:#f0b2b1}.property-label.sc-color-gen-variable-selector{font-family:Courier New,Courier,monospace;white-space:nowrap;cursor:pointer;-ms-flex:1;flex:1;padding-left:10px}.color-selector__form-group.sc-color-gen-variable-selector{position:relative;-ms-flex-align:end;align-items:flex-end;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.color-selector__form-group.sc-color-gen-variable-selector, .color-selector__input.sc-color-gen-variable-selector{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.color-selector__input.sc-color-gen-variable-selector{-webkit-transition:border .3s;transition:border .3s;border:1px solid #d4d9e1;border-radius:4px;height:28px;max-width:90px}.color-selector__input.sc-color-gen-variable-selector   input[type=text].sc-color-gen-variable-selector{-webkit-appearance:none;border:0;outline:none;font-family:var(--font-family-code);font-size:12px;width:60px;color:var(--dark-gray)}.color-selector__input--focused.sc-color-gen-variable-selector{border-color:#7eafff}.color-selector--error.sc-color-gen-variable-selector   .color-selector__input.sc-color-gen-variable-selector, .color-selector--error.sc-color-gen-variable-selector   .color-selector__input--focused.sc-color-gen-variable-selector   .color-selector__input.sc-color-gen-variable-selector{border-color:#f04141}.color-selector__color-wrap.sc-color-gen-variable-selector{border:1px solid rgba(0,0,0,.1);width:12px;height:12px;margin:0 7px;border-radius:2px;display:inline-block}.color-selector__input.sc-color-gen-variable-selector   input[type=color].sc-color-gen-variable-selector{-webkit-appearance:none;border:none;outline:none;opacity:0;width:12px;height:12px;display:block;margin:0;padding:0}.color-selector__error.sc-color-gen-variable-selector{font-size:11px;line-height:13px;display:block;max-width:100px;padding-right:10px;color:#f04141}\@media (max-width:700px){.color-selector--error.sc-color-gen-variable-selector{padding-bottom:24px}.color-selector__error.sc-color-gen-variable-selector{max-width:300px;width:300px;text-align:right;padding-right:0;top:calc(100% + 3px);right:0;position:absolute}}.color-selector__hex.sc-color-gen-variable-selector{width:94px}.color-selector__hex.sc-color-gen-variable-selector   span.sc-color-gen-variable-selector{font-family:var(--font-family-code);font-size:12px;background-color:var(--whiteish);color:var(--dark-gray);padding:3px 5px;border-radius:2px}"}}export{e as ColorGenVariableSelector};