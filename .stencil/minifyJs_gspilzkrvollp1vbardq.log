const e=window.App.h;import{a as t,b as s,c as i,d as l,e as n}from"./chunk-fd2edfe7.js";const o=[{text:"GitHub",url:"https://github.com/ionic-team/ionic",className:"github"},{text:"Forum",url:"https://forum.ionicframework.com/",className:"forum"},{text:"Chat",url:"https://ionicworldwide.herokuapp.com/",className:"chat"},{text:"Blog",url:"https://blog.ionicframework.com/",className:"blog"},{text:"Twitter",url:"https://twitter.com/Ionicframework",className:"twitter"},{text:"Stack",url:"https://stackoverflow.com/questions/tagged/ionic-framework",className:"stack-overflow"},{text:"Swag",url:"https://shop.ionicframework.com/",className:"swag"}];var c=()=>e("ctrl-dropdown",{class:"community-dropdown",autoClose:!0,items:o,renderer:i=>[e("a",{class:"community-dropdown__toggle",onClick:i.toggle},"Community",e("svg",{viewBox:"0 0 33 22"},e("polygon",{points:"16.5 22 0 0 33 0"}))),e("a",{class:"community-dropdown__mobile-toggle",onClick:i.toggle},e(i.isOpen?t:s,null)),e("div",{class:{"community-dropdown__panel":!0,"is-open":i.isOpen}},e("div",{class:"community-dropdown__title"},"Community"),e("ul",null,i.items.map(t=>e("li",{class:{"community-dropdown__item":!0,[t.className]:!0}},e("a",{href:t.url,target:"_blank"},t.text)))),e("stencil-route-link",{url:"/docs/",class:"community-dropdown__home",onClick:i.close},e("svg",{viewBox:"0 0 16 24"},e("path",{d:"M3 2l10 10L3 22","stroke-width":"3",fill:"none","fill-rule":"evenodd"})),"Home"))]});class r{constructor(){this.isMenuOpen=!1}getGithubLink(e){switch(e){case"cli":return"https://github.com/ionic-team/ionic-cli";default:return"https://github.com/ionic-team/ionic"}}render(){return e("nav",null,e("button",{onClick:this.onToggleClick,class:"menu-toggle"},e(this.isMenuOpen?t:l,null)),e("a",{href:"/docs/",class:"docs-logo"},e(i,null),e("span",null,"Docs")),e("ionic-search",null),e(c,null),e("a",{href:this.getGithubLink(this.section),class:"github-link",target:"_blank"},"GitHub",e(n,null)))}static get is(){return"docs-header"}static get properties(){return{isMenuOpen:{type:Boolean,attr:"is-menu-open"},onToggleClick:{type:"Any",attr:"on-toggle-click"},section:{type:String,attr:"section"}}}static get style(){return"/**style-placeholder:docs-header:**/"}}class a{constructor(){this.active=!1,this.query="",this.pending=0,this.results=null,this.selectedIndex=-1,this.focused=!1,this.dragY=null,this.startY=null,this.screenHeight=null,this.URLS=(()=>{const e="https://api.swiftype.com/api/v1/public/engines/",t="9oVyaKGPzxoZAyUo9Sm8";return{autocomplete:s=>`${e}suggest.json?q=${s}&engine_key=${t}`,search:s=>`${e}search.json?q=${s}&engine_key=${t}`}}),this.close=this.close.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.focus=this.focus.bind(this),this.urls=this.URLS()}close(){this.active=!1,this.query="",this.focused=!1,this.selectedIndex=-1,this.el.querySelector("input").value="",this.el.classList.remove("active"),this.el.querySelector("input").blur(),setTimeout(()=>{this.results=null},500,this)}async onKeyDown(e){if(27===e.keyCode)return void this.close();if(38===e.keyCode&&this.selectedIndex>0)return this.selectedIndex--,void e.preventDefault();if(40===e.keyCode&&this.selectedIndex<this.results.beta.length+this.results.main.length-1)return this.selectedIndex++,void e.preventDefault();if(13===e.keyCode){const e=this.el.querySelector(`li a[data-index="${this.selectedIndex}"]`);return void(e&&e.click())}const t=this.query=e.target.value;if(e.target.value.length<3)return void(this.results=null);this.pending++;const s=await fetch(this.urls.autocomplete(t)),i=await s.json();this.pending--,this.results=i.records.page.reduce((e,t)=>(e.beta||(e={beta:[],main:[]}),-1!==t.url.indexOf("beta.ionicframework.com")?e.beta.push(t):e.main.push(t),e))}focus(){const e=document.getElementById("search-input");e&&e.focus()}getBoxClass(){let e="search-box";return(e+=this.query.length>3?" active":"")+(this.focused?" focused":"")}printResults(t,s=0){return t.map((t,i)=>e("li",{class:"result"},e("a",{href:t.url,title:t.title,class:this.selectedIndex===i+s?"selected":"","data-index":i+s,onMouseOver:()=>{this.selectedIndex=i+s}},e("strong",null,t.title),e("small",{innerHTML:t.highlight.sections}))))}render(){return[e("div",{class:this.getBoxClass(),style:this.dragStyles},e("input",{type:"text",id:"search-input",onKeyUp:this.onKeyDown,onFocus:()=>{this.focused=!0},placeholder:"Search Ionic.."}),e("ion-icon",{class:`search-static ${this.active?" active":""}`,name:"md-search"}),e("ion-icon",{class:`close ${this.query.length?" active":""}`,name:"close-circle",onClick:this.close}),null!==this.results?e("ul",null,this.results.beta.length?e("li",{class:"title"},"beta.ionicframework.com"):null,this.printResults(this.results.beta),this.results.main.length?e("li",{class:"title"},"ionicframework.com"):null,this.printResults(this.results.main,this.results.beta.length),0===this.results.length?e("li",null,e("span",{class:"no-results"},"No results")):null):null,this.pending>0?e("span",{class:"searching"}):null),e("ion-icon",{class:`search-mobile-toggle ${this.focused?" focused":""}`,onClick:this.focus,name:"md-search"}),e("div",{class:`scroll-block ${this.focused?" focused":""}`,onClick:this.close})]}static get is(){return"ionic-search"}static get properties(){return{active:{state:!0},contentEl:{state:!0},dragStyles:{state:!0},el:{elementRef:!0},focused:{state:!0},mobile:{type:Boolean,attr:"mobile"},pending:{state:!0},query:{state:!0},results:{state:!0},selectedIndex:{state:!0}}}static get style(){return"/**style-placeholder:ionic-search:**/"}}export{r as DocsHeader,a as IonicSearch};