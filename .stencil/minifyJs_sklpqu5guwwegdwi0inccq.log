const t=window.App.h;class e{constructor(){this.editable=!0,this.isParentOpen=!1,this.showInputError=!1,this.isInputFocused=!1}onColorChange(t){const e=t.currentTarget,s=e.value.trim();e.matches('[type="text"]')&&"#"!==s[0]?e.value="#"+s:e.matches('[type="text"]')&&s.length>7?e.value=s.substring(0,s.length-1):e.matches('[type="text"]')&&7!==s.length||(this.value=s,this.colorChange.emit({property:this.property,value:this.value}))}onInputFocus(){this.isInputFocused=!0}onInputBlur(t){this.value=t.currentTarget.value.trim(),this.isInputFocused=!1}isValidHex(t){return/^#[0-9A-F]{6}$/i.test(t)}validate(){const t=this.isValidHex(this.value);this.showInputError=!t||7!==this.value.length}render(){return this.validate(),[t("div",{class:{"color-selector":!0,"color-selector--error":this.showInputError}},t("div",{class:"color-selector__name"},t("i",{class:"color-selector__swatch",style:{backgroundColor:this.value}}),this.name),this.editable?t("div",{class:"color-selector__form-group"},t("div",{class:{"color-selector__input":!0,"color-selector__input--focused":this.isInputFocused},onClick:t=>{this.isParentOpen&&t.stopPropagation()}},t("div",{class:"color-selector__color-wrap",style:{backgroundColor:this.value}},t("input",{type:"color",value:this.value,onInput:this.onColorChange.bind(this),tabindex:"-1"})),t("input",{type:"text",value:this.value,onInput:this.onColorChange.bind(this),onFocus:this.onInputFocus.bind(this),onBlur:this.onInputBlur.bind(this)})),this.showInputError?t("span",{class:"color-selector__error"},"Please enter a valid six digit hex code."):""):t("div",{class:"color-selector__hex"},t("span",null,this.value)))]}static get is(){return"color-gen-variable-selector"}static get encapsulation(){return"shadow"}static get properties(){return{editable:{type:Boolean,attr:"editable"},isInputFocused:{state:!0},isParentOpen:{type:Boolean,attr:"is-parent-open"},name:{type:String,attr:"name"},property:{type:String,attr:"property"},showInputError:{state:!0},value:{type:String,attr:"value",mutable:!0}}}static get events(){return[{name:"colorChange",method:"colorChange",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return"/**style-placeholder:color-gen-variable-selector:**/"}}export{e as ColorGenVariableSelector};