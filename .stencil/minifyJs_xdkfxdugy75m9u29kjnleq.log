var ComponentPreview=function(){function e(){var e=this;this.handleActive=function(t){window.history.replaceState(null,null,"#"+t.id),e.previewMessage.emit({active:t.id})},this.observeElement=function(t){t instanceof HTMLElement&&e.observer.observe(t)},this.linkAPIRef=function(t){var n=e.doc.createElement("a");n.className="api-link",n.href="/docs/api/"+t.id,n.textContent="API â€º",n.title=t.textContent.trim()+" API Reference",t.appendChild(n)}}return e.prototype.componentWillLoad=function(){this.handleActive=debounce(this.handleActive,100),this.observer=new IntersectionObserver(this.handleIntersection.bind(this),{root:this.doc.querySelector("docs-content"),rootMargin:"0px 0px -95% 0px",threshold:0})},e.prototype.handleIntersection=function(e){e.filter(function(e){return e.isIntersecting}).map(function(e){return e.target}).forEach(this.handleActive)},e.prototype.componentWillUnload=function(){this.observer.disconnect()},e.prototype.componentDidLoad=function(){var e=Array.from(this.el.parentElement.parentElement.querySelectorAll("h2"));e.forEach(this.observeElement),e.forEach(this.linkAPIRef)},e.prototype.render=function(){return null},Object.defineProperty(e,"is",{get:function(){return"component-preview"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{doc:{context:"document"},el:{elementRef:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"previewMessage",method:"previewMessage",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"/**style-placeholder:component-preview:**/"},enumerable:!0,configurable:!0}),e}(),debounce=function(e,t){var n;return function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];clearTimeout(n),n=setTimeout.apply(void 0,[e,t].concat(o))}};export{ComponentPreview};