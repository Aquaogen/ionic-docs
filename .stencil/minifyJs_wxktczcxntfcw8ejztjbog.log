import{h}from"../app.core.js";var VariableSelector=function(){function e(){this.editable=!0,this.isParentOpen=!1,this.showInputError=!1,this.isInputFocused=!1}return e.prototype.onColorChange=function(e){var t=e.currentTarget,o=t.value.trim();t.matches('[type="text"]')&&"#"!==o[0]?t.value="#"+o:t.matches('[type="text"]')&&o.length>7?t.value=o.substring(0,o.length-1):t.matches('[type="text"]')&&7!==o.length||(this.value=o,this.colorChange.emit({property:this.property,value:this.value}))},e.prototype.onInputFocus=function(){this.isInputFocused=!0},e.prototype.onInputBlur=function(e){this.value=e.currentTarget.value.trim(),this.isInputFocused=!1},e.prototype.isValidHex=function(e){return/^#[0-9A-F]{6}$/i.test(e)},e.prototype.validate=function(){var e=this.isValidHex(this.value);this.showInputError=!e||7!==this.value.length},e.prototype.render=function(){var e=this;return this.validate(),[h("div",{class:{"color-selector":!0,"color-selector--error":this.showInputError}},h("div",{class:"color-selector__name"},h("i",{class:"color-selector__swatch",style:{backgroundColor:this.value}}),this.name),this.editable?h("div",{class:"color-selector__form-group"},h("div",{class:{"color-selector__input":!0,"color-selector__input--focused":this.isInputFocused},onClick:function(t){e.isParentOpen&&t.stopPropagation()}},h("div",{class:"color-selector__color-wrap",style:{backgroundColor:this.value}},h("input",{type:"color",value:this.value,onInput:this.onColorChange.bind(this),tabindex:"-1"})),h("input",{type:"text",value:this.value,onInput:this.onColorChange.bind(this),onFocus:this.onInputFocus.bind(this),onBlur:this.onInputBlur.bind(this)})),this.showInputError?h("span",{class:"color-selector__error"},"Please enter a valid six digit hex code."):""):h("div",{class:"color-selector__hex"},h("span",null,this.value)))]},Object.defineProperty(e,"is",{get:function(){return"color-gen-variable-selector"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{editable:{type:Boolean,attr:"editable"},isInputFocused:{state:!0},isParentOpen:{type:Boolean,attr:"is-parent-open"},name:{type:String,attr:"name"},property:{type:String,attr:"property"},showInputError:{state:!0},value:{type:String,attr:"value",mutable:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"colorChange",method:"colorChange",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"/**style-placeholder:color-gen-variable-selector:**/"},enumerable:!0,configurable:!0}),e}();export{VariableSelector as ColorGenVariableSelector};